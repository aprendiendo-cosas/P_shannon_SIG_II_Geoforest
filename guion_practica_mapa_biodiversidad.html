<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'><style type='text/css'>html {overflow-x: initial !important;}</style>
<style type='text/css'  id="style-base">:root { --bg-color: #ffffff; --text-color: #333333; --select-text-bg-color: #B5D6FC; --select-text-font-color: auto; --monospace: "Lucida Console",Consolas,"Courier",monospace; --title-bar-height: 20px; }
.mac-os-11 { --title-bar-height: 28px; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, "Segoe UI Emoji", "SF Pro", sans-serif; -webkit-font-smoothing: antialiased; }
h1, h2, h3, h4, h5 { white-space: pre-wrap; }
body { margin: 0px; padding: 0px; height: auto; inset: 0px; font-size: 1rem; line-height: 1.428571; overflow-x: hidden; background: inherit; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p *, #write.first-line-indent svg * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font-style: inherit; font-variant-caps: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; font-size-adjust: inherit; font-kerning: inherit; font-variant-alternates: inherit; font-variant-ligatures: inherit; font-variant-numeric: inherit; font-variant-east-asian: inherit; font-variant-position: inherit; font-variant-emoji: inherit; font-feature-settings: inherit; font-optical-sizing: inherit; font-variation-settings: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; position: relative; }
#write svg h1, #write svg h2, #write svg h3, #write svg h4, #write svg h5, #write svg h6, #write svg p { position: static; }
.nodeLabel p { padding-right: 2px; padding-left: 2px; }
.typora-export .nodeLabel p { padding-right: 0px; padding-left: 0px; }
foreignObject { overflow: visible; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
li p { orphans: 1; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
thead, tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right-width: 0px; border-right-style: none; border-right-color: currentcolor; background-color: inherit; }
.CodeMirror-linenumber { -webkit-user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
svg { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li blockquote { margin: 1rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; border-color: transparent !important; padding-top: 0px !important; padding-bottom: 0px !important; }
  .typora-export * { print-color-adjust: exact; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
  #write > p:nth-child(1) { margin-top: 0px; }
  .typora-export-show-outline .typora-export-sidebar { display: none; }
  figure { overflow-x: visible; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
.MathJax_ref { fill: currentcolor; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: medium; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.reversefootnote { font-family: ui-monospace, sans-serif; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.6; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: medium !important; border-style: none !important; border-color: currentcolor !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom-width: 0px; border-bottom-style: none; border-bottom-color: currentcolor; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: medium; }
.highlight td, .highlight tr { border: 0px; }
mark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
.md-expand mark .md-meta { opacity: 0.3 !important; }
mark .md-meta { color: rgb(0, 0, 0); }
@media print {
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}
.md-diagram-panel .messageText { stroke: none !important; }
.md-diagram-panel .start-state { fill: var(--node-fill); }
.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }
.md-fences.md-fences-math { font-size: 1em; }
.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }
.md-fences-advanced:not(.md-focus) { background: inherit; }
.mermaid-svg { margin: auto; }
.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }
.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }
.typora-export-show-outline #write { --webkit-flex: 2; flex: 2 1 0%; }
.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }
@media screen and (max-width: 1024px) {
  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }
}
@media screen and (max-width: 800px) {
  .typora-export-sidebar { display: none; }
}
.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; overflow-wrap: anywhere; }
.outline-content ul { margin-top: 0px; margin-bottom: 0px; }
.outline-content strong { font-weight: 400; }
.outline-expander { width: 1rem; height: 1.428571rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }
.outline-expander::before { content: ""; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }
.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }
.outline-expander:hover::before { content: ""; }
.outline-h1 > .outline-item { padding-left: 0px; }
.outline-h2 > .outline-item { padding-left: 1em; }
.outline-h3 > .outline-item { padding-left: 2em; }
.outline-h4 > .outline-item { padding-left: 3em; }
.outline-h5 > .outline-item { padding-left: 4em; }
.outline-h6 > .outline-item { padding-left: 5em; }
.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }
.outline-label:hover { text-decoration: underline; }
.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }
.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left-width: 28px; border-left-style: solid; border-left-color: transparent; border-right-width: 28px; border-right-style: solid; border-right-color: transparent; }
.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }
.outline-item-open > .outline-item > .outline-expander::before { content: ""; }
.outline-children { display: none; }
.info-panel-tab-wrapper { display: none; }
.outline-item-open > .outline-children { display: block; }
.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }
.typora-export .outline-item:hover { margin-right: -8px; border-right-width: 8px; border-right-style: solid; border-right-color: transparent; }
.typora-export .outline-expander::before { content: "+"; font-family: inherit; top: -1px; }
.typora-export .outline-expander:hover::before, .typora-export .outline-item-open > .outline-item > .outline-expander::before { content: "−"; }
.typora-export-collapse-outline .outline-children { display: none; }
.typora-export-collapse-outline .outline-item-open > .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }
.typora-export-no-collapse-outline .outline-expander::before { content: "" !important; }
.typora-export-show-outline .outline-item-active > .outline-item .outline-label { font-weight: 700; }
.md-inline-math-container mjx-container { zoom: 0.95; }
mjx-container { break-inside: avoid; }
.md-alert.md-alert-note { border-left-color: rgb(9, 105, 218); }
.md-alert.md-alert-important { border-left-color: rgb(130, 80, 223); }
.md-alert.md-alert-warning { border-left-color: rgb(154, 103, 0); }
.md-alert.md-alert-tip { border-left-color: rgb(31, 136, 61); }
.md-alert.md-alert-caution { border-left-color: rgb(207, 34, 46); }
.md-alert { padding: 0px 1em; margin-bottom: 16px; color: inherit; border-left-width: 0.25em; border-left-style: solid; border-left-color: rgb(0, 0, 0); }
.md-alert-text-note { color: rgb(9, 105, 218); }
.md-alert-text-important { color: rgb(130, 80, 223); }
.md-alert-text-warning { color: rgb(154, 103, 0); }
.md-alert-text-tip { color: rgb(31, 136, 61); }
.md-alert-text-caution { color: rgb(207, 34, 46); }
.md-alert-text { font-size: 0.9rem; font-weight: 700; }
.md-alert-text svg { fill: currentcolor; position: relative; top: 0.125em; margin-right: 1ch; overflow: visible; }
.md-alert-text-container::after { content: attr(data-text); text-transform: capitalize; pointer-events: none; margin-right: 1ch; }

</style>
<style type='text/css'  id="style-codemirror">.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background: inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right-width: 1px; border-right-style: solid; border-right-color: rgb(221, 221, 221); background: inherit; white-space: nowrap; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; outline: 0px; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: auto hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 10px; z-index: 3; overflow-y: hidden; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: medium !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; overflow-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { overflow-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right-width: 30px; border-right-style: solid; border-right-color: transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right-width: medium; border-right-style: none; border-right-color: currentcolor; width: auto; }
.CodeMirror-linebackground { position: absolute; inset: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right-width: medium; border-right-style: none; border-right-color: currentcolor; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
span.cm-underlined { text-decoration: underline; }
span.cm-strikethrough { text-decoration: line-through; }
.cm-tw-syntaxerror { color: rgb(255, 255, 255); background-color: rgb(153, 0, 0); }
.cm-tw-deleted { text-decoration: line-through; }
.cm-tw-header5 { font-weight: 700; }
.cm-tw-listitem:first-child { padding-left: 10px; }
.cm-tw-box { border-style: solid; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-color: inherit; border-top-width: 0px !important; }
.cm-tw-underline { text-decoration: underline; }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}

</style>
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400&amp;subset=latin,latin-ext' type='text/css' />
<style type='text/css'  id="style-theme_css">:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

/* open-sans-regular - latin-ext_latin */
  /* open-sans-italic - latin-ext_latin */
    /* open-sans-700 - latin-ext_latin */
    /* open-sans-700italic - latin-ext_latin */
  html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
}

body {
    font-family: "Open Sans","Clear Sans", "Helvetica Neue", Helvetica, Arial, 'Segoe UI Emoji', 'SF Pro', sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 860px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}

@media only screen and (min-width: 1400px) {
	#write {
		max-width: 1024px;
	}
}

@media only screen and (min-width: 1800px) {
	#write {
		max-width: 1200px;
	}
}

#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}

/*@media print {
    .typora-export h1,
    .typora-export h2 {
        border-bottom: none;
        padding-bottom: initial;
    }

    .typora-export h1::after,
    .typora-export h2::after {
        content: "";
        display: block;
        height: 100px;
        margin-top: -96px;
        border-top: 1px solid #eee;
    }
}*/

h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table th:first-child,
table td:first-child {
    margin-top: 0;
}
table th:last-child,
table td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    pre {
        page-break-inside: avoid;
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.mac-os #write{
    caret-color: AccentColor;
}

.md-lang {
    color: #b4654d;
}

/*.html-for-mac {
    --item-hover-bg-color: #E6F0FE;
}*/

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
    opacity: 0.4;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}

.menu-item-container a.menu-style-btn {
    background-color: #f5f8fa;
    background-image: linear-gradient( 180deg , hsla(0, 0%, 100%, 0.8), hsla(0, 0%, 100%, 0)); 
}
</style>
<style type='text/css'  id="style-lp">ol, ul {padding-left: 40px}</style>
<style type='text/css'  id="style-mac-print"> @media print { @page {margin: 0 0 0 0;} body.typora-export {padding-left: 0; padding-right: 0;} #write {padding:0;}}</style>

<title>guion_practica_mapa_biodiversidad</title>
</head>
<body class='typora-export'><div class='typora-export-content'>
<div id='write'  class=''><h1 id='cuantificación-y-representación-espacial-de-la-diversidad-biológica'><span>Cuantificación y representación espacial de la diversidad biológica</span></h1><blockquote><ul><li><p><strong><em><span>Tipo de material</span></em></strong><span>: </span><span style="display: inline-block; font-size: 12px; color: white; background-color: #029BF9; border-radius: 5px; padding: 5px; font-weight: bold;"><span> Teoría</span></span><span> </span><span style="display: inline-block; font-size: 12px; color: white; background-color: #4caf50; border-radius: 5px; padding: 5px; font-weight: bold;"><span> Prácticas</span></span><span> </span></p></li><li><p><strong><em><span>Versión</span></em></strong><span>: 2025-2026 </span></p></li><li><p><strong><em><span>Asignatura</span></em></strong><span> : SIG II (Máster GEOFOREST). </span></p></li><li><p><strong><em><span>Autor</span></em></strong><span>: Curro Bonet-García (fjbonet@uco.es)</span></p></li><li><p><strong><em><span>Duración</span></em></strong><span>: 4 horas.</span></p></li></ul></blockquote><p>&nbsp;</p><h2 id='objetivos'><span>Objetivos</span></h2><p><span>Esta sesión tiene los siguientes objetivos:</span></p><ul><li><p><span>Disciplinares:</span></p><ul><li><p><span>Reconocer el concepto de biodiversidad.</span></p></li><li><p><span>Aprender un método para cuantificar la diversidad biológica. Índice de Shannon.</span></p></li><li><p><span>Aprender a generar mapas de diversidad biológica. Mapas de distribución del índice de Shannon.</span></p></li><li><p><span>Reconocer patrones de distribución de la diversidad en un territorio concreto.</span></p></li><li><p><span>Identificar las causas de los patrones anteriores.</span></p></li><li><p><span>Reconocer cómo la diversidad biológica cambia su significado al hacerlo la escala espacial. </span></p></li></ul></li><li><p><span>Instrumentales:</span></p><ul><li><p><span>Afianzar nuestro conocimiento de SIG.</span></p></li><li><p><span>Mejorar nuestro conocimiento de R.</span></p></li><li><p><span>Poner en práctica algunos conceptos de las bases de datos relacionales. </span></p></li><li><p><span>Entrenar la habilidad de transferir conocimientos de un ámbito (territorial en este caso) a otro.</span></p></li><li><p><span>Entrenar la habilidad de cuestionarse la utilidad de las variables ambientales para conseguir un objetivo concreto. </span></p></li><li><p><span>Cuestionar la forma en la que obtenemos un mapa de distribución de una variable continua a partir de datos tomados de forma discreta.</span></p></li></ul></li></ul><p>&nbsp;</p><h2 id='el-concepto-de-diversidad-biológica'><span>El concepto de diversidad biológica</span></h2><p><span>Para maximizar el aprendizaje en esta sesión es importante que tengamos claro en qué consiste la diversidad biológica. La diversidad es un atributo de las comunidades ecológicas. En esta sección analizaremos también cuáles son las variables que explican los cambios de diversidad que observamos en el territorio.</span></p><p><span>Usaremos la siguiente presentación para explicar estos conceptos y para generar un punto de partida común entre todos los estudiantes.</span></p><iframe src="https://prezi.com/p/embed/JwRiniBpVzC8DmGcVp9q/" id="iframe_container" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" allow="autoplay; fullscreen" height="415" width="560"></iframe><p>&nbsp;</p><h2 id='generación-de-un-mapa-continuo-de-diversidad-biológica'><span>Generación de un mapa continuo de diversidad biológica</span></h2><p><span>En la sección anterior hemos aprendido que la diversidad es un descriptor de las comunidades ecológicas. En esta descripción hemos usado una aproximación en la que la componente espacial no está presente de manera explícita. Aquí nos preguntamos, ¿es posible generar un mapa que muestre cómo se distribuye la diversidad en una zona concreta del planeta? En caso afirmativo, ¿cómo podríamos hacerlo?</span></p><p><span>--- Contribuciones de los estudiantes ---</span></p><p>&nbsp;</p><h2 id='una-propuesta-para-generar-un-mapa-de-diversidad-usando-información-de-gbif'><span>Una propuesta para generar un mapa de diversidad usando información de GBIF</span></h2><p><span>Para cuantificar la diversidad biológica se pueden utilizar muchos índices. En nuestro caso usaremos el denominado índice de Shannon-Wiever, que es uno de los más robustos y comunmente utilizados. Para su cálculo se necesita la siguiente información:</span></p><ul><li><p><span>Delimitación espacial de la comunidad para la que queremos calcular el índice de diversidad.</span></p></li><li><p><span>Listado de especies existente en esa comunidad.</span></p></li><li><p><span>Abundancia de cada especie en dicha comunidad.</span></p></li></ul><p><span>La siguiente presentación muestra de forma muy sencilla en qué consiste este método.</span></p><p>&nbsp;</p><iframe src="https://prezi.com/p/embed/jLHzHdM6BpTgCUa4WaUt/" id="iframe_container" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" allow="autoplay; fullscreen" height="415" width="738"></iframe><p>&nbsp;</p><p><span>Como se puede observar en la presentación anterior, para calcular la diversidad de una comunidad, usaremos dos fuentes de información:</span></p><ul><li><p><span>Información de distribución de especies en la zona de estudio (Sierra Nevada). Es el primer paso fundamental porque necesitamos esta información para calcular el índice de Shannon. Para conseguir datos de presencia de especies en Sierra Nevada usaremos una infraestructura digital denominada </span><a href='https://www.gbif.org/'><span>GBIF</span></a><span> (Global Biodiversity Information Facility). Se trata de un portal desde el que se tiene acceso a millones de datos de presencia de especies procedentes de colecciones biológicas (herbarios, colecciones animales, etc.) de todo el planeta. Esta iniciativa está promovida y mantenida por multitud de países que han puesto en común toda la información de la que disponen para conocer mejor la distribución de la biodiversidad en la Tierra. Accederemos a este portal y descargaremos toda la información de presencia de especies en Sierra Nevada. Esto nos dará una idea bastante aproximada de cómo se distribuye la diversida en esta zona. En nuestro caso, GBIF aporta una enorme cantidad de registros de presencia de especies en Sierra Nevada. Durante la práctica visitamos el portal de GBIF y simulamos la descarga. Como este proceso puede tardar unas horas, utilizamos datos que fueron descargados anteriormente por el profesor. Dichos datos de presencia de especies tienen el siguiente &quot;aspecto&quot; cuando son visualizados en QGIS. </span><a href='https://github.com/aprendiendo-cosas/P_shannon_SIG_II_Geoforest/raw/2024-2025/geoinfo/csv_gbif_sierra_nevada.zip'><span>Aquí</span></a><span> puedes descargar la capa con los datos de presencia de especies de Sierra Nevada. Como ves más abajo, son unos cuantos miles de puntos...</span></p></li></ul><p><img src="https://raw.githubusercontent.com/aprendiendo-cosas/P_shannon_SIG_II_Geoforest/2024-2025/images/puntos.png" alt="puntos"></p><ul><li><p><span>Distribución de las comunidades ecológicas que conforman Sierra Nevada. Este paso es el más complejo conceptualmente, ya que las comunidades no tienen un límite espacial preciso. Es decir, están conectadas entre sí y no es fácil delimitar donde empieza una y acaba otra. En este caso usaremos una definición artificial y arbitraria de comunidad: un cuadrado de 250 m de lado. En el ejercicio que tendrás que hacer para evaluar tu aprendizaje, habrá disponible una fuente de información menos arbitraria: los polígonos de un mapa de vegetación. </span></p></li></ul><p><span>A partir de estas dos fuentes de datos obtendremos el índice de Shannon para cada una de las comunidades de Sierra Nevada. Es decir, usaremos los datos de presencia de cada especie que hay en cada una de las comunidades para calcular su índice de Shannon. En la siguiente figura puedes ver la distribución de presencias de especies en unas cuantas comunidades.</span></p><p><img src="https://raw.githubusercontent.com/aprendiendo-cosas/P_shannon_SIG_II_Geoforest/2024-2025/images/grid.png" alt="puntos_comunidades"></p><p><span>Para ello seguiremos los pasos que se muestran en el siguiente flujo de trabajo (se ve un poco pequeño, pero si vas a la parte de abajo encontrarás una herramienta lupa para aumentar y otra para desplazarte). También puedes descargar el flujo de trabajo </span><a href='https://github.com/aprendiendo-cosas/P_shannon_SIG_II_Geoforest/raw/refs/tags/2024-2025/presentacion/sierra_nevada_shannon_R.drawio.zip'><span>aquí</span></a><span> (se abre con </span><a href='https://www.diagrams.net/'><span>esta</span></a><span> aplicación).</span></p><p>&nbsp;</p><iframe frameborder="0" style="width:100%;height:3090px;" src="https://viewer.diagrams.net/?tags=%7B%7D&highlight=0000ff&edit=_blank&layers=1&nav=1&title=sierra_nevada_shannon_QGIS_R.drawio#R7V3rc9s2Ev9rNNPejDV8Pz7Gip32Jr1L4ra59IsGJiGJDUUoJGXL%2FesPAAm%2BAFG0xJcleTy2CFIguLu%2F3cUCu5yos%2FXuQwg2q9%2BQC%2F2JIrm7ifp%2Boig3sqTgf6TlJWkxlLRhGXpu0iTlDQ%2FePzBplFnr1nNhlLYlTTFCfuxtyo0OCgLoxKU2EIbouXzZAvluqWEDlrA0DNLw4AAfcpd99dx4lbRaipm3%2FwK95YrdWTbs5MwjcL4vQ7QN0vtNFPVev9fu0w7XgPWV3jdaARc9F5rUu4k6CxGKk0%2Fr3Qz6hLZlst3vOZuNO4RB3OQLyj3Uvn%2FaWDfOnWp9%2BfD0%2BMfm%2FkZOmRXFL4wg0MX0SQ9RGK%2FQEgXAv8tbb%2BlDQ9KthI%2Fyaz4itMGNMm78G8bxS8pssI0RblrFaz89yw89fZoIbUMnHYcyX1j%2B84sR%2F%2FvH578s8%2BH225d%2FbvRUQkC4hHHNdSn3yLMUbpAS5gNEaxiHL%2FiCEPog9p7KsgBSkVpm1%2BVkxR9Syu6hcs2on4C%2FhUxYKlQH0SaR7oW3I6S93cDQw3eHIW7Dt8BwgJ%2FypiI1ge8tA%2FzZwdSk5zJJI%2BxxQbTKeBVtgOMFy98pn1Tc4K0pPNj%2F9956iZ%2FQ9x7xX%2BAQysxdL8QjQ4QM98%2FwcR7B8AmG0%2Bhpib%2B3QEGcstmkkhFjciIymhvZIndc4JH%2FmQ6UfP7lkAjgvmO4q2UaO6vJ6XdS1aMoKaGfcyCrKalXBQxrUgt8FqJJHQJNmILhy%2F%2FI96c6O%2FyWdkcP3u9KRy%2Fp0fEoNJuiUBkVDE0Ohu9h5OCHALj1w%2B2v9xz3whVaP27xOG6fV14MHzB8yJlnbArLPNiPg85BIJklEKiyzYGACXzrIBBS2Tis7Yjd3PB0ak6PzB8Aj6xPqZ5Oim2U6KTJBkcn7LzwhJKNrijFdFMdpbAu35CPmCixB%2Fwv5JGDJVUcBfETSWeZQFQMPd%2BfIR8RkxKggPQRUx1DTvpwEacfH1Eco3V6EKaUoMoJ82HhU9Oy8lwXBsSkxCH6Dlm32AmS6E8T5taLz2EIpJy0JI6RsipN7eKP2SMAVPXK1lPYys6qZes%2BNjZrvDnZy%2BaUXYd4G2GLysyIlPA6Bl5AfUCZHvs%2B2ERezntn5fnuR%2FCCtjG7DTs6YJM64xsjA7NHCq9mZWuqFn9kgdZVrK74ZnULzyqL3BBtfmeeEmnYII846ndPmPJRWximnVJS6bf4Fwv9jLiDOn6aGT6W82P8Sy4P4xkKMMqxfJE%2BIIjiZxjFRwtKBofDgvJKUejMH9RsThIeHA8%2FprfwnP%2BANexUbYu07sliUMC8dTwrrWNYadqvY13aWU7DV%2FcGfAyjAMTwlkyhIk4esnGeMHOXOBFxoYNny3h6Fiy9eOtehaSpYTD5iYlhtSkzTXrrQ2bkvTKD6XwVmVfNbk1OZsxXmogDeqZBb33ITMdTwatT0nAyyXj%2FWh9F6chH0fnJ5Dv80CD0wHQ6vVBFkqHldAelhm9HOCiV3vpQHBonH2TGNdOuotGyW3K0pDTprQ9J4VehzKl9FZO2XZHjNUqD3vqQkwbx%2B6sr0oMroqnHuSKdrWLzAc%2F7rXPJbkjz2OjZx0n4oCp1Qy7Wvrw6bH4x0RE%2B6Ir1yky%2BCso1JlImjcHHXq%2BOyBCOiKGNyxEx%2BADrJy%2FYRheqQjKcXN0Qtn%2Bn6IbIF%2ByGvEI0LswNMfi4KtZyM34D51VQLt0N4SOsVzdkCDfE4nd3D7o0Y%2FAB1c9bGDrb6HJDIhlYriszBh9HVclMV7%2BKxnVlpkwZPrBKYmftmplzFpSLWZsxrntXx%2BGLyBIvccPGRPiw6hcUXfDijHHdxJrt4ecDqSQr4nKjItetq%2FskhY%2BsEu1rXQXlGhURp%2FaWPBHDj1PSl6TF%2BLFF7MRNRJnyDl%2Bgb3b5OfxpSf5%2FCmEEA8cjKblko7QESWK8ByPyMcB%2FtgE59Q%2Bi%2FyLoQ8fBfAUuYLfHj5OMIOmQE91yvvWBvN79aXBUwNJe5aMl7Pj0qlc6HiwNq%2F2cd4Oj8GgqSIjGm9KhlLsuui6NBA%2BQul4z6gLaJFm2LEW5USTJkFXJ0mTNkjV16kRPp4n8cKnsKouoZeuOgpRPWeBTqZ0VdDCHEO5uCzrUCPtBULCkzPZQkX71E5kCFs2ook%2BVsjRYciUjNBlt%2Bs3TLFwNTQqQ%2B3VNpp4gJERmZipiZucxzC1O0uKxhhACN8HlvkvxAL39Bmv8RShUu1yEwlR45LKdLkXgsrb2gcu7rH0Ad%2BfFBdzio2%2BFMzlqycHpoGVgPIja3kDLUvQZYrUKYpNH6gyxGeXOXFs35bti96atjaq2tm17KhV%2BKu5nx7qbD5N6gYNCrL6p9k4faTJTJ%2B%2FegwYaPIrnIJpHi471dVESe9XeFUtr86VxDDnjcEmB61O9KxXOL5T1qsI1yyoocWlqm3qtIicHhQptr8B4XejhMMjbxvhp85RhKqD1a3ftpqxpnTe1%2BtfOfsuFc2RJUep0cddWeWAcNxeJ%2Fi05k5DD0QipP1EqC4%2BsD2nIGYEKljyEmxC9kOBo2MxyxyEIogUK15dhvWXJGIP5VoYJnaSwlydF011vuI%2BHL0PlYUtg9AVfU56qMofWDMwmJoZs5b%2B9WgIWg75agv0SctgSyONy%2BPhdbk4I6SxrDXw%2FW8ZRdGndTF2vwXc4p8XDz1Jd60bFO8Mml1PXliJU14aWNbfPSH7OXAxyVsheWP%2FFXIY%2BWoZgPSlXrS6dK9auPsQpUgE7ZZWAc63YTMsuMcESxCtNlWcAm960T31%2B%2B05O%2FTm%2BzblzgNisYVmgDTN17X%2Btp6nTwvTSSCyNyu9iKkNkrqgSu%2BiMgGLqU5bWlpkMgy8NITP89AIW9TqpP%2BihHXbltHEBjN%2F8RdyweeK6nReqdBZfZZBSWNXG4qRZUE66O0S9mRXLARClNUVU6%2FPs03jKpw6yYBRa0zkS3dKWryvVz4zOdf1JN9WpWQliqezNRIMGsVR%2Bi%2FR5%2BoSNow%2FDvVipbtwik0Xhcm5Wq4ISTZCGYhpTS7SbvLN50zC7Lt6G4RK9KUlIxNbXd07DFZ%2BRCMhuiVsZuB6xW44PnkhYb4PhQWrRNjFg8Me5mi%2BFM1%2BawQOzf%2FOl8VVg%2BzRfcglkOeb2wKzfVXztjYZBjEH22%2FevOkX8%2Bao%2B%2BH%2B6i%2FCvlxf03f5q3eo7LXtFw0j4o%2FFhqvN2SbSprZaVn66PwCsZZjrdJUyE0q8IpsbiCwebGteOuwCTux2eHMOQPsyjL3Ap6EIiiEPvEROeJITRBuRsw5AtUxEakjVHhOFDJ9gOIjNs6Iv641wUEE1dEIPpIqQv%2F%2Blvb34bSORWVCy2qFSEoTYVuCB5a%2Bs4ZIW2L3x2UAvJwy5I6xu5T8MuP%2Bt%2B9PgVymOzzix2mHaldIMXTSpnK8i2yq%2BqMPHtJdtMP79sM7H8CPY2Cy9sf9fjaXLPb5GYAd%2FZ%2BtTSBJOZMrklic1e4HpPnrtF4uQwsCayHzxG5N8Gke%2Fij0QOMTnpobMFbpqdQHpvYLkePn8U26ukLdqAoCRYLO3aSTKbyajD5SP4CROcVIbAf4WffiYfSbcSzeVegLXnvyRfX6MARRTepUvydG9JlO69%2B4A1weo35EJMfR3zAv%2BZhQhfkx0x3uiUO7jlPflMhqQTbuiYpYeulbNrmbwe1Y2Sd5OIQHYmc130zHnRE%2FdEL3kseWPJa9GZ36Lnnoue%2Bi46817YrRMmZrdmHghuKOpYcp5qWdJO0U5aZHqY6VrSZNKmwpMlGrQJ7bJTGdlySOpE0eZXqmQ7KOvnJT9xoxs5B1LFm51M3BJ2MlXBe85SMqZnloVRVFlLDzP%2BFhvLUpdex4lnhrEEUuN3CzWj7BYqMlv6LJg5Wxa5hXlr%2B1EMfp%2FGiE1dZ5GpWqt32DyOa0on2KBTsFOH64GYIgPx%2BzzYrufYos6jzZzYxWbTshNczy4waJbToxXR6qYpyI%2FuztU8vyiiWCYFlQ3EFw62F6d23O27mpfmYQps%2BNXFvLqYVxezxcijVF79HIeLqb%2BZDXUnmLem0f%2BxuYqimvrtuYpv1U9U5fJK2vB%2BIktWOns%2FURCKF1443Ead2nEXgPRHQHfoUB%2BBrIgJnDvsSTxR589OVtHIbRzsKyLyH63pTp93Af%2B9n4irkqy60cy%2Bihf58ylu5IjNm1UxbyorsDBoBEUZApnHI6zxfo7h9tvUjltgqvbOeZpYKw4ZXKRjvgZRA5PW0F0cmaXTy2UmsOfLWzpZs0Sg6s7YnV8GYC3CDkNxXEERNm5xUOSTN0nW0Hy0VMjBRdgiQxqDLRp2n2l%2FwGk63dLGNd3S9k%2B3rjbsBBtWieqbgkoOvduwN5OYewIMG0%2FWWq98ehoM%2Bcnaw3adGq9%2FfUzNlsRbLrAM4RIELpmf0fh99YIWw%2FlvyPZZ6hhs3yCbtk4AT9PNV8Ptq68ddw827GEFggAF52Sq7MomEJu9v6OYn6T1aacGic7vpWXnhdkMSZ2asqZYevK3XH5AlVR1qhn56UpaxJ7CbOLbsD7IX7NyG6vCz%2FbKN9bqEAFoc9v0rpRZCAoWMIMdyaDJEmiEqCytdPP3qIQ4k5wAcidqMwPXcyD%2FJRrozJXBgVtwg15DTNu3ZmT1imQqtsCp7d%2FInkcefi9apgb%2BslyB%2F6v0iqnndSX1SsfVSv9d6xV%2Be8wYk%2Bx6ymTQDaOagJxr%2BmJVQUGFqM4MvPmmdnjuZcNhN7n1ihjHeRCKahc9CLY81H5pVzEV%2BHeh3%2B2yt%2BWAxI5u4MLzBXaWs5zPIUbcfz98eXPGs1LbM9eLPRnPWgkVb7ZIwwGJl0MU6DzyYBiCeQCfgAum0WrTiA0DqtguOKnoU7k8Z1IVSxDe080p26PRi1rV3tjr9kRrTeIL9bb16Gl0VjjQvIu8ZZDpM4e%2BcjJ%2FERibUTh0NqO63pJMNdK9FSQ8B2j4DmZTjx%2Fb5PWWMZ2DyA3UYhTP%2F8YKvGOtOFQZe8uuvkMImzxBIYG82EophbnDKirnl5ZZi8DDpQTGVbdS432PQmHYXVpLfBzmqr3yyQqHFpMlKxddflOIls7KbujDbKEYW7p%2FbRb%2FQVM4too2fG1yzKSkvEaMXFqJw6d%2FaYCNvql558BNjLITia0L6OcIhk9eslglB2P25lXL4up62YKtf%2F3X1Di%2F7Ra1ODi8u31cL2vWB1mD74HO7b%2F%2B9zQ686sLb7MOSVXNKJJAzbRUimSSpiEVwj95ApJ6938%3D"></iframe><p><span>La ejecución del anterior flujo de trabajo se realiza usando R. Para ello iremos ejecutando secuencialmente las líneas del siguiente bloque de código. También puedes descargar el código </span><a href='https://github.com/aprendiendo-cosas/P_shannon_SIG_II_Geoforest/raw/refs/tags/2024-2025/geoinfo/shannon_sierra_nevada.R.zip'><span>aquí</span></a><span>.:</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="R" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: currentcolor;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># Este script genera un mapa del índice de Shannon en cuadrículas de 250x250 m a partir de los datos de presencias de especies existentes en GBIF.</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 1. Establece directorio de trabajo</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">setwd</span>(<span class="cm-string">"/Users/fjbonet/Library/CloudStorage/OneDrive-UniversidaddeCórdoba/4_docencia/SIG_II_geoforest_UCO/repos_actos_docentes/P_shannon_SIG_II_Geoforest/preparacion"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 2. Instalar y cargar los paquetes necesarios</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">install.packages</span>(<span class="cm-string">"sf"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">library</span>(<span class="cm-variable">sf</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">install.packages</span>(<span class="cm-string">"sqldf"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">library</span>(<span class="cm-variable">sqldf</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 3. Importamos el archivo csv de GBIF con sus atributos geográficos</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">presencias</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">read.csv</span>(<span class="cm-string">"0118822-200613084148143.csv"</span>, <span class="cm-variable">header</span> <span class="cm-operator">=</span> <span class="cm-variable">TRUE</span>, <span class="cm-variable">sep</span> <span class="cm-operator">=</span><span class="cm-string">"</span><span class="cm-string-2">\t</span><span class="cm-string">"</span>, <span class="cm-variable">dec</span> <span class="cm-operator">=</span> <span class="cm-string">"."</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 4. Convertimos la tabla importada a un objeto geográfico tipo sf</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">presencias_geo</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">st_as_sf</span>(<span class="cm-variable">presencias</span>, <span class="cm-variable">coords</span> <span class="cm-operator">=</span> <span class="cm-variable">c</span>(<span class="cm-string">"decimalLongitude"</span>, <span class="cm-string">"decimalLatitude"</span>), <span class="cm-variable">crs</span> <span class="cm-operator">=</span> <span class="cm-number">4326</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 5. Reproyectamos la capa creada al sistema de coordenadas 23030 (UTM)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">presencias_geo_23030</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">st_transform</span>(<span class="cm-variable">presencias_geo</span>, <span class="cm-variable">crs</span> <span class="cm-operator">=</span> <span class="cm-number">23030</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 6. Creamos una malla de 250 m con la extensión y sistema de coordenadas de la capa de presencias</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">grid_250m</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">st_make_grid</span>(<span class="cm-variable">presencias_geo_23030</span>, <span class="cm-variable">cellsize</span> <span class="cm-operator">=</span> <span class="cm-variable">c</span>(<span class="cm-number">250</span>, <span class="cm-number">250</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 7. Transformamos la malla obtenida (tipo sfc) a tipo espacial sf</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">grid_250m_sf</span> <span class="cm-operator cm-arrow">&lt;-</span><span class="cm-variable">st_sf</span>(<span class="cm-variable">geometry</span> <span class="cm-operator">=</span> <span class="cm-variable">grid_250m</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 8. Añadimos un campo llamado id_250 a la malla. Le incluimos valores secuenciales desde 1.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">grid_250m_sf</span><span class="cm-operator cm-dollar">$</span><span class="cm-variable">id_250</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">seq</span>(<span class="cm-number">1</span>, <span class="cm-number">67304</span>, <span class="cm-variable">by</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 9. Asignamos a cada punto de presencia el código del cuadrado de la malla en el que está. Unión espacial.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">presencias_x_grid</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">st_join</span>(<span class="cm-variable">presencias_geo_23030</span>,<span class="cm-variable">left</span> <span class="cm-operator">=</span> <span class="cm-variable">FALSE</span>, <span class="cm-variable">grid_250m_sf</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 10. Extraemos la tabla de atributos de la capa de puntos creada y borramos todos los campos menos los dos que nos interesan. </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">bio</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">as.data.frame</span>(<span class="cm-variable">presencias_x_grid</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">bio</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">bio</span>[<span class="cm-variable">c</span>(<span class="cm-string">'id_250'</span>, <span class="cm-string">'scientificName'</span>)]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 11. Calcular el número de individuos por especie y por cuadrícula (num_ind_sp_cuad)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">T_num_ind_sp_cuad</span><span class="cm-operator cm-arrow">&lt;-</span><span class="cm-variable">sqldf</span>(<span class="cm-string">"SELECT id_250, scientificName,  count(scientificName) num_ind_sp_cuad  FROM bio GROUP BY id_250, scientificName"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 12. Calcular el número total de individuos por cuadrícula.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">T_num_ind_cuad</span><span class="cm-operator cm-arrow">&lt;-</span><span class="cm-variable">sqldf</span>(<span class="cm-string">"SELECT id_250, sum(num_ind_sp_cuad) num_ind_cuad FROM T_num_ind_sp_cuad GROUP BY id_250"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 13. Fusionar las tablas anteriores para calcular Pi</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">T_num_ind_sp_cuad_mas_num_ind_cuad</span><span class="cm-operator cm-arrow">&lt;-</span><span class="cm-variable">sqldf</span>(<span class="cm-string">"SELECT id_250, scientificName, num_ind_sp_cuad, num_ind_cuad FROM T_num_ind_sp_cuad LEFT JOIN T_num_ind_cuad USING(id_250)"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 14. Calcular pi por especie y por cuadrícula.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">T_num_ind_sp_cuad_mas_num_ind_cuad</span><span class="cm-operator cm-arrow">&lt;-</span><span class="cm-variable">sqldf</span>(<span class="cm-string">"SELECT id_250, scientificName, num_ind_sp_cuad, num_ind_cuad, (num_ind_sp_cuad*1.0/num_ind_cuad) pi FROM T_num_ind_sp_cuad_mas_num_ind_cuad"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 15. Calcular el log2 pi por especie y por cuadrícula (log = ln). Log2(pi)=log(pi)/log(2)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">T_num_ind_sp_cuad_mas_num_ind_cuad</span><span class="cm-operator cm-arrow">&lt;-</span><span class="cm-variable">sqldf</span>(<span class="cm-string">"SELECT id_250, scientificName, num_ind_sp_cuad, num_ind_cuad, pi, (log(pi)/log(2))*pi lnpi_pi FROM T_num_ind_sp_cuad_mas_num_ind_cuad"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 16. Calcular H por cuadrícula</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">T_Shannon</span><span class="cm-operator cm-arrow">&lt;-</span><span class="cm-variable">sqldf</span>(<span class="cm-string">"SELECT id_250, sum(lnpi_pi)*-1 H FROM T_num_ind_sp_cuad_mas_num_ind_cuad GROUP BY id_250"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 17. Fusionar la tabla que tiene el índice de Shannon con la malla de cuadrículas.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">grid_250m_sf</span><span class="cm-operator cm-arrow">&lt;-</span><span class="cm-variable">merge</span>(<span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-variable">grid_250m_sf</span>, <span class="cm-variable">y</span> <span class="cm-operator">=</span> <span class="cm-variable">T_Shannon</span>, <span class="cm-variable">by.x</span> <span class="cm-operator">=</span> <span class="cm-string">"id_250"</span>, <span class="cm-variable">by.y</span> <span class="cm-operator">=</span> <span class="cm-string">"id_250"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 18. Exportamos la capa de la malla obtenida a un fichero de formas para visualizarlo en QGIS.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">st_write</span>(<span class="cm-variable">grid_250m_sf</span>, <span class="cm-string">"Shannon_250_sierra_nevada.shp"</span>, <span class="cm-variable">append</span><span class="cm-operator">=</span><span class="cm-variable">FALSE</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 1794px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1794px;"></div></div></div></pre><p>&nbsp;</p><h2 id='identificación-de-patrones-espaciales-de-la-diversidad-en-sierra-nevada-y-en-andalucía'><span>Identificación de patrones espaciales de la diversidad en Sierra Nevada y en Andalucía</span></h2><p><span>El resultado de la sección anterior es un mapa que muestra la distribución de la diversidad en Sierra Nevada. Representémoslo en QGIS tal y como se observa en la siguiente imagen. ¿qué patrones espaciales podemos identificar?, ¿cómo se explican estos patrones espaciales?</span></p><p>&nbsp;</p><p><img src="https://raw.githubusercontent.com/aprendiendo-cosas/P_shannon_SIG_II_Geoforest/main/images/shannon_Snevada_250.png" alt="Sierra_nevada"></p><p><span>¿En qué se diferencia esta imagen a la anterior?</span></p><p>&nbsp;</p><p><img src="https://raw.githubusercontent.com/aprendiendo-cosas/P_shannon_SIG_II_Geoforest/main/images/shannon_Snevada_250_lowpass.png" alt="Sierra_nevada_lowpass"></p><p><span>También podemos generar un mapa parecido de toda Andalucía. Al utilizar millones de puntos de GBIF, se tardan varias horas en ejecutar el script anterior. Así que no lo haremos en clase. </span><a href='https://github.com/aprendiendo-cosas/P_shannon_SIG_II_Geoforest/raw/refs/heads/main/geoinfo/biodiv_250_andalucia.zip'><span>Aquí</span></a><span> puedes descargar un mapa del índice de Shannon de todas las cuadrículas de 250m de Andalucía. Dicho mapa tiene el siguiente aspecto:</span></p><p><img src="https://raw.githubusercontent.com/aprendiendo-cosas/P_shannon_SIG_II_Geoforest/main/images/shannon_andalucia_250.png" alt="Shannon_250_andalucia"></p><p><span>¿Qué patrones espaciales podemos identificar en la imagen anterior? ¿A qué pueden deberse esos patrones?</span></p><p>&nbsp;</p><p><span>Si hacemos un poco de zoom en el sureste de Andalucía, observamos algo así:</span></p><p><img src="https://raw.githubusercontent.com/aprendiendo-cosas/P_shannon_SIG_II_Geoforest/main/images/shannon_sureste_250_label.png" alt="Shannon_250_sureste"></p><p><span>¿A qué se debe el patrón observado en la diversidad?</span></p><p>&nbsp;</p><h2 id='patrones-espaciales-de-diversidad-a-escala-global'><span>Patrones espaciales de diversidad a escala global</span></h2><p><span>¿Podemos ver patrones de diversidad a escala mayor que la analizada anteriormente?</span></p><p><span>En </span><a href='https://github.com/aprendiendo-cosas/P_shannon_SIG_II_Geoforest/raw/refs/heads/main/geoinfo/zonas_gradiente_latitudinal.zip'><span>esta</span></a><span> capa vectorial se muestran varias zonas localizadas en la parte occidental del continente americano. Desde Alaska hasta casi el Ecuador. En cada una de esas zonas se ha generado un mapa de diversidad parecido al que hemos creado para Sierra Nevada. La diferencia es que se ha calculado el promedio de la diversidad de todas las cuadrículas de 250m de cada zona. Eso explica por qué cada polígono tiene un único valor del índice Shannon. Descarga la capa y representála en un SIG. Puedes ponerle de fondo una imagen de satélite usando un plugin llamado </span><em><span>quickmapservices</span></em><span>. El resultado debería de ser parecido a esta imagen:</span></p><p><img src="https://raw.githubusercontent.com/aprendiendo-cosas/P_shannon_SIG_II_Geoforest/main/images/gradiente_latitud.png" alt="gradiente_lat"></p><p><span>¿Se puede identificar algún patrón espacial? En caso afirmativo, ¿a qué se debe? ¿en qué se parece este patrón a alguno de los observados anteriormente?</span></p><p>&nbsp;</p><h2 id='relación-entre-la-diversidad-y-la-escala-espacial'><span>Relación entre la diversidad y la escala espacial</span></h2><p><span>Hasta aquí hemos trabajado con un concepto idealizado de comunidad que tiene 250 m de lado. Sin embargo, en la introducción hemos explicado claramente que la delimitación de la comunidad tiene una fuerte componente arbitraria. ¿qué pasaría si calculáramos el índice de Shannon en Andalucía usando un tamaño de cuadrícula creciente?. Es decir, ¿en qué se parece el mapa de Shannon de 250 m a otro generado, por ejemplo, con una cuadrícula de 1000 m de lado?</span></p><p><span>Las siguientes tres imágenes muestran el resultado de este experimento con tamaños de malla de 500, 1000 y 10000 m respectivamente.</span></p><p>&nbsp;</p><p><img src="https://raw.githubusercontent.com/aprendiendo-cosas/P_shannon_SIG_II_Geoforest/main/images/shannon_andalucia_500.png" alt="Shannon_andalucia_500"></p><p><img src="https://raw.githubusercontent.com/aprendiendo-cosas/P_shannon_SIG_II_Geoforest/main/images/shannon_andalucia_1000.png" alt="Shannon_andalucia_1000"></p><p><img src="https://raw.githubusercontent.com/aprendiendo-cosas/P_shannon_SIG_II_Geoforest/main/images/shannon_andalucia_10000.png" alt="Shannon_andalucia_10000"></p><p><span>¿En qué se diferencian estas imágenes? ¿Han cambiado los patrones espaciales? ¿Qué quiere decir esto?</span></p><p><span>Ahora daremos un nuevo paso en este proceso de cambiar la escala de cálculo del índice de Shannon. Calculemos ahora el mismo índice considerando que los espacios naturales protegidos de Andalucía son comunidades. Es decir, calculemos el índice de Shannon de los espacios protegidos. La siguiente imagen muestra el resultado de esto:</span></p><p><img src="https://raw.githubusercontent.com/aprendiendo-cosas/P_shannon_SIG_II_Geoforest/main/images/shannon_natura.png" alt="Shannon_natura"></p><p><span>Comparemos este mapa con el primero que hemos hecho: el mapa del índice de Shannon a 250m:</span></p><p><img src="https://raw.githubusercontent.com/aprendiendo-cosas/P_shannon_SIG_II_Geoforest/main/images/shannon_andalucia_250.png" alt="Shannon_250_andalucia"></p><p><span>¿Qué diferencias observamos entre ambos mapas?</span></p><p><span>Podemos comparar la diversidad promedio de las comunidades de cada espacio protegido con el índice de Shannon que recibe dicho espacio si lo calculamos a escala de paisaje. Los resultados se pueden ver en la siguiente tabla:</span></p><p><img src="https://raw.githubusercontent.com/aprendiendo-cosas/P_shannon_SIG_II_Geoforest/main/images/tabla_diversidades.jpg" alt="tabla_diversidades"></p><p><span>¿¿¿¿ Qué está pasando aquí ???</span></p><p><span>Observamos cómo los espacios protegidos que tienen valores altos de diversidad a escala de paisaje (shannon calculado con el límite del espacio protegido), tienen valores promedios bajos de diversidad a escala de 250 m. Y viceversa. ¿Qué clase de brujería es esta?</span></p><p><span>Quizás esta presentación nos ayude a entender un poco esto:</span></p><p>&nbsp;</p><iframe src="https://prezi.com/p/embed/hlzq3rFR88R4Vs84CVly/" id="iframe_container" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" allow="autoplay; fullscreen" height="415" width="738"></iframe><p>&nbsp;</p><p>&nbsp;</p><hr /><p><a href='https://github.com/aprendiendo-cosas/P_shannon_SIG_II_Geoforest/archive/refs/tags/2024_2025.zip'><span>Aquí</span></a><span> puedes descargar un archivo .zip que contiene este guión en formato html y todo el material que incluye.</span></p><hr /><p><span>Haz click </span><a href='https://github.com/aprendiendo-cosas/P_shannon_SIG_II_Geoforest/releases'><span>aquí</span></a><span> para ver cómo ha cambiado este guión en los distintos cursos académicos.</span></p><hr /> <p xmlns:cc="http://creativecommons.org/ns#" >El contenido de este repositorio se puede utilizar bajo la siguiente licencia:  <a  href="https://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1"  target="_blank" rel="license noopener noreferrer"  style="display:inline-block;">CC BY-NC-SA 4.0<img  style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"   src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"  alt=""><img  style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"   src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"  alt=""><img  style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"   src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"  alt=""><img  style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"   src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"  alt=""></a></p> <p>Esta licencia no aplica a enlaces a artículos, libros o imágenes no originales. Estos productos tienen su licencia correspondiente.</p></div></div>
</body>
</html>